function tbkrShopGetSettings(){return[{paramName:"language",attrName:"language"},{paramName:"shop-id",attrName:"shop-id"},{paramName:"cart-id",attrName:"cart-id"},{paramName:"primary-color",attrName:"primary-color"},{paramName:"secondary-color",attrName:"secondary-color"},{paramName:"theme",attrName:"theme"},{paramName:"mode",attrName:"mode"},{paramName:"collections",attrName:"collections"},{paramName:"active-collection",attrName:"active-collection"},{paramName:"category",attrName:"category"}]}function tbkrShopResizeCrossDomainIframe(e,t){var a=document.getElementById(e);a&&window.addEventListener("message",function(e){-1!==a.src.indexOf(e.origin)&&(t&&(void 0!==e.data.open&&(a.className=a.className.replace(" open",""),a.className=a.className.replace(" closed",""),e.data.open?a.className+=" open":a.className+=" closed"),void 0!==e.data.phase&&("RESERVATION"!==e.data.phase?a.className+=" wide":a.className=a.className.replace(" wide",""))),t||!e.data.h||isNaN(e.data.h)||0!==(e=parseInt(e.data.h))&&(a.height=e+32))},!1)}function tbkrShopPassScrollInfoToIframe(e){var t=document.getElementById(e);t&&document.addEventListener("scroll",e=>{t.contentWindow.postMessage({type:"tbkr_parentScrollInfo",data:{scrollPosition:window.scrollY,widgetTop:t.offsetTop,viewPortHeight:window.innerHeight}},"*")})}function tbkrShopIsModal(e){if(e.getAttribute("use-modal")&&"1"===e.getAttribute("use-modal"))return!0;e=tbkrShopGetUrlParam("modal");return null!=e&&"1"===e||void 0}function tbkrShopGetUrlParam(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null==e?null:decodeURI(e[1])||0}function tbkrShopGetQueryParams(e){var t=document.createElement("a");return t.href=e,t.search.substring(1)}function tbkrShopBuildUrl(e){for(var t="",a=0;a<tbkrShopGetSettings().length;a++){var r=tbkrShopGetSettings()[a],n=e.getAttribute(r.attrName);null!==n&&n+""!="undefined"&&(t+="&"+encodeURIComponent(r.paramName),0!==n.length&&(t+="="+encodeURIComponent(n)))}return"https://widget.tablebooker.shop?"+(t+=tbkrShopGetQueryParams(window.location.href)).substring(1)}function tbkrShopGetButtonPosition(e){if(void 0===e)return"right";var t=tbkrShopGetSettings().filter(function(e){return"position"===e.paramName});if(!t.length)return"right";e=e.getAttribute(t[0].attrName),t=null!==e&&e+""!="undefined";return t&&"left"===e?"left":t&&"center"===e?"center":"right"}function tbkrShopCreateCss(e){var t=document.createElement("style"),a=".obm-modal {\n  position: fixed;\n";a+="center"===e?"  left: 50%;\n transform: translateX(-50%);\n":"left"===e?"  left: 0;\n right: auto;\n margin-left: 15px;\n":"  right: 0;\n left: auto;\n margin-right: 15px;\n",a+="  bottom: 0;\n  display: block !important;\n  z-index: 99999999;\n  max-height: 100%;\n  max-width: 100%;\n  width: 400px;\n  height: 70px;\n  transition: width 0.2s ease 0.2s;\n}",a+="center"===e?".open{height: 86%; bottom: 7%;}":".open{height: 100%;}",t.innerHTML=a+=".closed{width: 400px !important; }.wide{width: 500px}@media only screen and (max-width: 500px){.open{width:100%;margin-right:0;margin-left:0} .wide{width: 100%}}",document.getElementsByTagName("head")[0].appendChild(t)}function tbkrShopCreateScriptElement(e){var t=document.createElement("script");return t.type="text/javascript",t.innerHTML=e,t}function tbkrShopCreateScriptLink(e){var t=document.createElement("script");return t.async=!0,t.src=e,t}function tbkrShopAddElementsToDom(t,e){e.forEach(function(e){return document[t].appendChild(e)})}function tbkrShopCreateNoScriptElement(e){var t=document.createElement("noscript");return t.innerHTML=e,t}function tbkrShopDoesTheElementAlreadyExist(e,t){var a=document.getElementsByTagName(e);for(i=0;i<a.length;i++)if(-1!==a[i].innerHTML.search(t))return!0;return!1}function tbkrShopIsTheDataLayerInitialized(){try{return!!dataLayer.find(function(e){return 1<e.length&&("js"===e[0]&&e[1]instanceof Date)})}catch(e){return!1}}function tbkrShopDoesFpTrackerAlreadyExist(t){try{return!!fbq.getState().pixels.find(function(e){return e.id===t})}catch(e){return!1}}function tbkrShopDoesGaTrackerAlreadyExist(t){var a,r;try{a=!!ga.getAll().find(function(e){return e.model.data.ea[":trackingId"]===t})}catch(e){a=!1}try{r=!!dataLayer.find(function(e){if(1<e.length)return e[1]===t})}catch(e){r=!1}return a||r}function tbkrShopCreateTablebookerWidgetInIframe(){for(var e=document.getElementsByTagName("tbkr-shop-widget"),t=[],a=0;a<e.length;a++)t.push(e[a]);if(0!==t.length){tbkrShopCreateCss(tbkrShopGetButtonPosition(t[0]));for(var r=!1,n=!1,o=0;o<t.length;o++){var i,d,c=t[o],s=c.parentNode,l=c.getAttribute("iframe");!c||l&&"1"!==l?(r=!0,(d=window.document.createElement("script")).async=!0,d.src="https://widget.tablebooker.shop/tbkr-shop-widget-202310301033.js",window.document.body.appendChild(d)):(n=!0,i="tbkr-shop-widget-"+currentId,currentId++,l=document.createElement("iframe"),d=tbkrShopBuildUrl(c)+"&shopWidgetId="+i,l.setAttribute("src",d),tbkrShopIsModal(c)?l.setAttribute("class","obm-modal"):l.height=0,c.hasAttribute("disable-analytics")&&tbkrShopUntrackedModules.push(i),l.frameBorder="0",l.width="100%",l.scrolling="no",l.style.overflow="hidden",l.id=i,l.onload=function(e){tbkrShopResizeCrossDomainIframe(e.target.id,tbkrShopIsModal(c)),tbkrShopPassScrollInfoToIframe(e.target.id)},s.replaceChild(l,c))}return n&&window.addEventListener("message",function(t){if(t.data.tbkrtype)if("tbkr-create-tracker"!==t.data.tbkrtype||tbkrShopUntrackedModules.find(function(e){return e===t.data["widget-id"]})){var e=t.data.tbkrtype;if(delete t.data.tbkrtype,"tbkr-booking-widget-navigated"===e){if(!tbkrShopUntrackedModules.find(function(e){return t.data["widget-id"]===e})){try{fbq("trackCustom",t.data.category,t.data.page)}catch(e){}try{ga.getAll().forEach(function(e){e.model.data.ea[":name"]?ga(e.model.data.ea[":name"]+".send",{hitType:"event",eventCategory:t.data.category,eventAction:t.data.page,eventLabel:t.data["tracker-label"]}):ga("send",{hitType:"event",eventCategory:t.data.category,eventAction:t.data.page,eventLabel:t.data["tracker-label"]})})}catch(e){}try{gtag("event",t.data.page,{event_category:t.data.category,event_label:t.data["tracker-label"]})}catch(e){}}delete t.data["tracker-label"]}window.dispatchEvent(new CustomEvent(e,{detail:t.data})),window.dataLayer.push({event:e,detail:t.data})}else"ga"!==t.data["tracker-type"]||tbkrShopDoesGaTrackerAlreadyExist(t.data["tracker-code"])||(e=tbkrShopCreateScriptLink("https://www.googletagmanager.com/gtag/js?id="+(o=t).data["tracker-code"]),tbkrShopAddElementsToDom(o.data["tracker-element"],[e]),tbkrShopIsTheDataLayerInitialized()||(e=tbkrShopCreateScriptElement("window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());"),tbkrShopAddElementsToDom(o.data["tracker-element"],[e])),gtag("config",o.data["tracker-code"])),"gtm"===t.data["tracker-type"]&&(n=[],tbkrShopDoesTheElementAlreadyExist("noscript",(a=t).data["tracker-code"])||(r='<iframe src="//www.googletagmanager.com/ns.html?id='+a.data["tracker-code"]+'" height="0" width="0" style="display:none;visibility:hidden"></iframe>',n.push(tbkrShopCreateNoScriptElement(r))),tbkrShopDoesTheElementAlreadyExist("script",a.data["tracker-code"])||(r="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','"+a.data["tracker-code"]+"');",n.push(tbkrShopCreateScriptElement(r))),0<n.length&&tbkrShopAddElementsToDom(a.data["tracker-element"],n)),"fp"!==t.data["tracker-type"]||tbkrShopDoesFpTrackerAlreadyExist(t.data["tracker-code"])||(r=[],tbkrShopDoesTheElementAlreadyExist("noscript",(a=t).data["tracker-code"])||(n='<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id='+a.data["tracker-code"]+'&ev=PageView&noscript=1" />',r.push(tbkrShopCreateNoScriptElement(n))),tbkrShopDoesTheElementAlreadyExist("script","https://connect.facebook.net/en_US/fbevents.js")||r.push(tbkrShopCreateScriptElement("!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');")),0<r.length&&tbkrShopAddElementsToDom(a.data["tracker-element"],r),fbq("init",a.data["tracker-code"]),fbq("track","PageView"));var a,r,n,o}),r}}currentId=0;var tbkrShopUntrackedModules=[];tbkrShopCreateTablebookerWidgetInIframe();